/* ================= BODY & HEADER ================= */
body {
  font-family: Arial, sans-serif;
  margin: 0;
  background: #f8f8ff;
  color: #333;
}

header {
  background: #1e3d7b;
  color: white;
  padding: 20px 15px 10px;
  text-align: center;
  position: relative;
}

header h1 {
  margin-top: 10px;
  font-size: 1.5rem;
}

.back-btn {
  position: absolute;
  left: 15px;
  top: 15px;
  color: white;
  text-decoration: none;
  font-size: 16px;
}
.back-btn:hover {
  text-decoration: underline;
}

/* ================= GALLERY ================= */
.memory-gallery {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 35px;
  padding: 30px;
}

.event {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
  align-items: stretch; /* üîπ key fix chi·ªÅu cao sub-event */
}

.sub-event {
  flex: 1 1 280px;       /* co gi√£n nh∆∞ng t·ªëi thi·ªÉu 280px */
  max-width: 300px;      /* t·ªëi ƒëa 300px */
  text-align: center;
  background: rgba(255,255,255,0.05);
  border-radius: 12px;
  padding: 10px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  transition: transform 0.3s ease;

  display: flex;          /* x·∫øp d·ªçc n·ªôi dung */
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
}

.event-thumb {
  width: 100%;
  height: 500px;          /* c·ªë ƒë·ªãnh chi·ªÅu cao */
  overflow: hidden;       /* tr√°nh ·∫£nh tr√†n */
  border-radius: 8px;
}

.event-thumb img {
  width: 100%;
  height: 100%;
  object-fit: cover;      /* ·∫£nh l·∫•p ƒë·∫ßy khung, kh√¥ng m√©o */
  border-radius: 8px;
}


/* üîΩ Mobile: hi·ªÉn th·ªã 1 c·ªôt */
@media (max-width: 600px) {
  .event {
    flex-direction: column; 
    align-items: center;
  }

  .sub-event {
    width: 90%;
    max-width: none;
  }
}


/* ========== Hi·ªáu ·ª©ng ch·ªØ b·ªëc l·ª≠a ========== */
.fire-text {
  display: block;
  text-align: center;             
  font-weight: bold;
  letter-spacing: 2px;
  color: #ffcc70;
  text-shadow:
    0 0 15px #ff6600,
    0 0 30px #ff3300,
    0 0 45px #ff0000,
    0 0 60px #ff9900;
  animation: flickerMax 0.8s infinite alternate;
  position: relative;

  white-space: nowrap;   /* ch·ªØ 1 d√≤ng */
  transform-origin: center;  /* co ch·ªØ t·ª´ gi·ªØa */
}


.fire-text span {
  display: inline-block;
  margin-right: 2px;
  animation: flameMax 1.5s infinite;
  position: relative;
}

/* T·ªïng th·ªÉ nh·∫•p nh√°y c·ª±c m·∫°nh */
@keyframes flickerMax {
  0%   { text-shadow: 0 0 15px #ff6600, 0 0 30px #ff3300, 0 0 45px #ff0000, 0 0 60px #ff9900; }
  25%  { text-shadow: 0 0 25px #ffaa33, 0 0 50px #ff6600, 0 0 80px #ff3300, 0 0 100px #ff9900; }
  50%  { text-shadow: 0 0 30px #ffcc33, 0 0 60px #ff6600, 0 0 90px #ff3300, 0 0 120px #ff6600; }
  75%  { text-shadow: 0 0 35px #ff9900, 0 0 70px #ff3300, 0 0 110px #ff6600, 0 0 140px #ff9900; }
  100% { text-shadow: 0 0 40px #ff6600, 0 0 80px #ff3300, 0 0 120px #ff0000, 0 0 160px #ffcc33; }
}

/* K√Ω t·ª± l·∫≠p l√≤e m·∫°nh + scale + translate */
@keyframes flameMax {
  0%   { transform: translateY(0) rotate(0deg) scale(1); opacity: 0.8; }
  10%  { transform: translateY(-5px) rotate(3deg) scale(1.12); opacity: 1; }
  20%  { transform: translateY(4px) rotate(-2deg) scale(1.1); opacity: 0.85; }
  30%  { transform: translateY(-3px) rotate(2deg) scale(1.08); opacity: 1; }
  40%  { transform: translateY(5px) rotate(-3deg) scale(1.15); opacity: 0.9; }
  50%  { transform: translateY(-4px) rotate(3deg) scale(1.12); opacity: 1; }
  60%  { transform: translateY(3px) rotate(-2deg) scale(1.1); opacity: 0.85; }
  70%  { transform: translateY(-5px) rotate(2deg) scale(1.13); opacity: 1; }
  80%  { transform: translateY(4px) rotate(-3deg) scale(1.15); opacity: 0.9; }
  90%  { transform: translateY(-3px) rotate(3deg) scale(1.12); opacity: 1; }
  100% { transform: translateY(0) rotate(0deg) scale(1); opacity: 0.8; }
}

/* Kh√≥i/b·ª•i l·ª≠a bay */
.fire-text span::after {
  content: "";
  position: absolute;
  top: -10px;
  left: 50%;
  width: 8px;
  height: 8px;
  background: radial-gradient(circle, rgba(255,200,0,0.7) 0%, rgba(255,0,0,0) 70%);
  border-radius: 50%;
  transform: translateX(-50%) scale(0);
  opacity: 0;
  animation: fireSmokeMax 2s infinite;
}

/* Tia l·ª≠a b·∫Øn ra xung quanh ch·ªØ */
.fire-text span::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 4px;
  height: 4px;
  background: radial-gradient(circle, rgba(255,255,200,0.8) 0%, rgba(255,0,0,0) 70%);
  border-radius: 50%;
  transform: translate(-50%, -50%) scale(0);
  opacity: 0;
  animation: sparkFly 1.2s infinite;
}

@keyframes fireSmokeMax {
  0%   { transform: translateX(-50%) translateY(0) scale(0); opacity: 0; }
  25%  { transform: translateX(-50%) translateY(-5px) scale(0.3); opacity: 0.5; }
  50%  { transform: translateX(-50%) translateY(-10px) scale(0.5); opacity: 0.8; }
  75%  { transform: translateX(-50%) translateY(-15px) scale(0.7); opacity: 0.4; }
  100% { transform: translateX(-50%) translateY(-20px) scale(0); opacity: 0; }
}

@keyframes sparkFly {
  0%   { transform: translate(-50%, -50%) scale(0); opacity: 0; }
  25%  { transform: translate(calc(-50% + 5px), calc(-50% - 5px)) scale(0.3); opacity: 0.6; }
  50%  { transform: translate(calc(-50% + 10px), calc(-50% - 10px)) scale(0.5); opacity: 0.9; }
  75%  { transform: translate(calc(-50% - 8px), calc(-50% - 12px)) scale(0.7); opacity: 0.6; }
  100% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
}

/* ===== MOBILE ===== */
@media (max-width: 600px) {
  .fire-text {
    font-size: 1.3rem !important;
    white-space: normal;
    overflow: visible;
  }

  .fire-text span {
    animation: flameMaxMobile 1.5s infinite;
  }

  @keyframes flameMaxMobile {
    0%   { transform: translateY(0) rotate(0deg) scale(1); opacity: 0.85; }
    10%  { transform: translateY(-3px) rotate(2deg) scale(1.08); opacity: 1; }
    20%  { transform: translateY(2px) rotate(-1deg) scale(1.06); opacity: 0.9; }
    30%  { transform: translateY(-2px) rotate(1deg) scale(1.07); opacity: 1; }
    40%  { transform: translateY(3px) rotate(-2deg) scale(1.1); opacity: 0.95; }
    50%  { transform: translateY(-3px) rotate(2deg) scale(1.08); opacity: 1; }
    60%  { transform: translateY(2px) rotate(-1deg) scale(1.06); opacity: 0.9; }
    70%  { transform: translateY(-2px) rotate(1deg) scale(1.08); opacity: 1; }
    80%  { transform: translateY(3px) rotate(-2deg) scale(1.1); opacity: 0.95; }
    90%  { transform: translateY(-3px) rotate(2deg) scale(1.08); opacity: 1; }
    100% { transform: translateY(0) rotate(0deg) scale(1); opacity: 0.85; }
  }
}

/* ==========================================
   B∆Ø·ªöM BAY QUANH M·ªñI SUB-EVENT
========================================== */
/* ==========================================
   B∆Ø·ªöM BAY QUANH M·ªñI SUB-EVENT
========================================== */
.sub-event {
  position: relative;  /* ƒë·ªÉ b∆∞·ªõm ƒë·ªãnh v·ªã theo sub-event */
  overflow: visible;
}

/* M·∫∑c ƒë·ªãnh cho t·∫•t c·∫£ b∆∞·ªõm */
.butterfly {
  position: absolute;
  width: 40px;
  height: 40px;
  background-size: contain;
  background-repeat: no-repeat;
  pointer-events: none;
  z-index: 10;
}

/* ü¶ã B∆∞·ªõm ch√≠nh bay quanh ·∫£nh */
.b1 {
  background-image: url('../images/butterfly1.png');
  animation: flap 0.6s infinite alternate ease-in-out,
             orbit1 14s linear infinite;
}

/* ü¶ã 3 con c√≤n l·∫°i ch·ªâ ·∫©n hi·ªán ng·∫´u nhi√™n (nh∆∞ ‚ù§Ô∏è üå∏) */
.b2, .b3, .b4 {
  opacity: 0;
  animation: appearDisappear 6s infinite ease-in-out;
}

/* V·ªã tr√≠ c·ªë ƒë·ªãnh c·ªßa 3 con b∆∞·ªõm ·∫©n/hi·ªán */
.b2 { top: 15%; left: 75%; background-image: url('../images/butterfly2.png'); }
.b3 { top: 60%; left: 20%; background-image: url('../images/butterfly3.png'); }
.b4 { top: 80%; left: 65%; background-image: url('../images/butterfly4.png'); }

/* C√°nh ƒë·∫≠p nh·∫π */
@keyframes flap {
  0%   { transform: scale(1) rotateY(0deg); }
  100% { transform: scale(1.05) rotateY(180deg); }
}

/* Bay quanh qu·ªπ ƒë·∫°o */
@keyframes orbit1 {
  0%   { top: -20px; left: 0; }
  25%  { top: -10px; left: 100%; }
  50%  { top: 100%; left: 100%; }
  75%  { top: 90%; left: 0; }
  100% { top: -20px; left: 0; }
}

/* ·∫®n hi·ªán nh·∫π nh√†ng */
@keyframes appearDisappear {
  0%, 20%, 100% { opacity: 0; transform: scale(0.5) rotate(0deg); }
  10%, 50%      { opacity: 1; transform: scale(1) rotate(10deg); }
  30%, 70%      { opacity: 0.7; transform: scale(0.8) rotate(-10deg); }
}

/* Mobile: thu nh·ªè b∆∞·ªõm */
@media (max-width: 600px) {
  .butterfly { width: 28px; height: 28px; }
}


/* ==========================================
   TR√ÅI TIM & HOA NH·∫§P NH√ÅY
========================================== */
.heart, .flower {
  position: absolute;
  font-size: 1.5rem;
  opacity: 0;
  animation: appearDisappear 3s infinite ease-in-out;
}

.heart { top: 10%; left: 20%; }
.flower { top: 70%; left: 60%; }

@keyframes appearDisappear {
  0%, 20%, 100% { opacity: 0; transform: scale(0.5) rotate(0deg); }
  10%, 50% { opacity: 1; transform: scale(1) rotate(10deg); }
  30%, 70% { opacity: 0.7; transform: scale(0.8) rotate(-10deg); }
}




/* Modal hi·ªÉn th·ªã to√†n m√†n h√¨nh */
.modal {
  display: none; /* ·∫®n m·∫∑c ƒë·ªãnh */
  position: fixed;
  z-index: 1000;
  padding-top: 60px;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0,0,0,0.9);
}

/* ·∫¢nh b√™n trong modal */
.modal-content {
  margin: auto;
  display: block;
  max-width: 90%;
  max-height: 80vh;
  border-radius: 10px;
}

/* D√≤ng m√¥ t·∫£ ·∫£nh */
#caption {
  text-align: center;
  color: #ccc;
  margin-top: 10px;
  font-size: 1.1em;
}

/* N√∫t ƒë√≥ng (X) */
.close {
  position: absolute;
  top: 30px;
  right: 45px;
  color: #fff;
  font-size: 40px;
  font-weight: bold;
  cursor: pointer;
}

/* ·∫¢nh c√≥ th·ªÉ click */
.clickable {
  cursor: zoom-in;
  transition: transform 0.3s ease;
}

.clickable:hover {
  transform: scale(1.05);
}

/* Truy·ªán */
.story-text {
  width: 100%;
  height: 500px;                  /* gi·ªØ khung cao nh∆∞ ·∫£nh tr∆∞·ªõc */
  padding: 20px;                  /* kho·∫£ng c√°ch b√™n trong */
  box-sizing: border-box;
  overflow-y: auto;               /* n·∫øu truy·ªán d√†i s·∫Ω xu·∫•t hi·ªán scroll */
  background: rgba(255,255,255,0.05); 
  border-radius: 8px;
  font-size: 1rem;
  line-height: 1.6;               /* kho·∫£ng c√°ch gi·ªØa c√°c d√≤ng */
  color: #333;

  /* üîπ Canh l·ªÅ text */
  text-align: justify;            /* canh ƒë·ªÅu 2 b√™n */
  text-indent: 2em;               /* th·ª•t ƒë·∫ßu d√≤ng ƒëo·∫°n ƒë·∫ßu */
  cursor: zoom-in;                /* gi·ªëng clickable ·∫£nh */
  transition: transform 0.3s ease;
}

.story-text:hover {
  transform: scale(1.02);         /* hover nh·∫•n nh·∫π gi·ªëng ·∫£nh */
}

/* Modal v·∫´n d√πng #imageModal */
#imageModal {
  display: none;
  position: fixed;
  z-index: 1000;
  padding: 40px 20px;      /* kho·∫£ng c√°ch xung quanh */
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow-y: auto;         /* scroll n·∫øu n·ªôi dung d√†i */
  background-color: rgba(0,0,0,0.95);  /* n·ªÅn m·ªù t·ªëi */
  box-sizing: border-box;
}

/* Khung hi·ªÉn th·ªã text */
#caption {
  display: block;
  max-width: 800px;
  margin: 0 auto;           /* cƒÉn gi·ªØa m√†n h√¨nh */
  background: rgba(255,255,255,0.1);
  padding: 25px;
  border-radius: 10px;
  color: #fff;
  font-size: 1.1rem;
  line-height: 1.6;
  text-align: justify;      /* canh ƒë·ªÅu 2 b√™n */
  text-indent: 2em;         /* th·ª•t ƒë·∫ßu d√≤ng ƒëo·∫°n ƒë·∫ßu */
}

